<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>digilisnutrition — Conférence bien-être, nutrition & digital</title>
  <meta name="description" content="digilisnutrition : une conférence sur le bien-être, la nutrition et le rôle du digital pour mieux prévenir, accompagner et innover." />
  <meta property="og:title" content="digilisnutrition — Conférence" />
  <meta property="og:description" content="Une journée pour croiser bien-être, nutrition et solutions numériques : outils concrets, retours d'expérience et perspectives." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/logo_digilis.jpeg" />
  <meta name="color-scheme" content="light">
  <style>
    :root {
      /* Palette alignée au logo digilis */
      --bg: #ffffff;
      --card: #ffffff;
      --text: #1f1a1a;
      --muted: #6f6a6a;

      --primary: #d90429;   /* rouge digilis */
      --primary-600: #c00322;
      --primary-100: #fdecee;

      --accent: #16a34a;    /* vert feuille */
      --accent-100: #e9f8ef;

      --stroke: rgba(217, 4, 41, 0.18);
      --ok: #16a34a;
      --err: #dc2626;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(900px 600px at 85% -10%, rgba(22,163,74,0.08), transparent 55%),
        radial-gradient(1000px 700px at -10% 10%, rgba(217,4,41,0.08), transparent 45%),
        var(--bg);
      color: var(--text);
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; height: auto; display:block; }

    .container { max-width: 1080px; margin: 0 auto; padding: 16px clamp(16px, 3vw, 24px); }

    /* Header */
    header { position: sticky; top: 0; z-index: 20; backdrop-filter: blur(8px); background: rgba(255,255,255,0.75); border-bottom: 1px solid var(--stroke); }
    .nav { display:flex; align-items:center; justify-content:space-between; gap:16px; }
    .brand { display:flex; align-items:center; gap:12px; font-weight: 900; letter-spacing: -0.02em; font-size: clamp(18px, 2.2vw, 22px); }
    .brand .name { display:flex; align-items:center; gap:6px; }
    .brand .name .dig { color: var(--primary); }
    .brand .logos { display:flex; align-items:center; gap:10px; margin-left: 6px; }
    .brand .logos img { height: 22px; width: auto; border-radius: 3px; background: #fff; border: 1px solid rgba(0,0,0,0.05); }
    @media (max-width: 480px) { .brand .logos img { height: 20px; } }

    .menu-toggle { display: inline-flex; align-items:center; justify-content:center; width: 40px; height: 40px; border-radius: 10px; border:1px solid var(--stroke); background:#fff; }
    nav ul { list-style:none; display:flex; gap:18px; padding:0; margin:0; }
    nav a.btn {
      padding: 10px 14px; border-radius: 12px; border:1px solid var(--stroke);
      background: linear-gradient(180deg, #ffdee3, #ffb9c3);
      color: #5a0b14; font-weight:700;
    }
    nav a:hover { text-decoration: underline; text-underline-offset: 3px; }

    @media (max-width: 820px) {
      nav ul { display:none; flex-direction: column; gap:10px; padding: 12px; border:1px solid var(--stroke); border-radius: 12px; background:#ffffff; margin-top: 12px; }
      nav ul[data-open="true"] { display:flex; }
      .menu-toggle { display:inline-flex; }
    }
    @media (min-width: 821px) { .menu-toggle { display:none; } }

    /* Hero */
    .hero { padding: clamp(28px, 6vw, 64px) 0 clamp(12px,3vw,28px); display:grid; grid-template-columns: 1fr; gap: 20px; align-items:center; }
    @media (min-width: 860px) { .hero { grid-template-columns: 0.9fr 1.1fr; } }

    .hero-logo {
      background:#fff; border:1px solid var(--stroke); border-radius: 18px; padding: clamp(12px, 2.4vw, 18px);
      box-shadow: 0 12px 32px rgba(217,4,41,0.08);
    }
    .hero h1 { font-size: clamp(30px, 6vw, 56px); margin: 8px 0; letter-spacing:-.02em; }
    .hero .accent-title { color: var(--primary); }
    .hero p { font-size: clamp(16px, 2.4vw, 20px); color: var(--muted); margin: 10px 0 18px; }
    .meta { display:flex; gap: 10px; flex-wrap: wrap; }
    .pill {
      padding: 8px 12px; border-radius: 999px; border:1px solid var(--stroke);
      background: #fff7f8; font-weight:600; font-size: 14px;
    }

    .cta {
      display:inline-flex; align-items:center; gap:10px; padding: 12px 18px; border-radius: 14px;
      border:1px solid var(--primary-600);
      background: linear-gradient(180deg, #ffdee3, #ffb9c3);
      color:#5a0b14; font-weight:700;
    }
    .cta.secondary { border-color: rgba(22,163,74,0.35); background: linear-gradient(180deg, #edfbf1, #d7f5e0); color:#0c3b1e; }

    /* Sections */
    .section { padding: clamp(20px, 5vw, 36px) 0; }
    .cards { display:grid; grid-template-columns: 1fr; gap:14px; }
    @media (min-width: 600px) { .cards { grid-template-columns: repeat(2, 1fr); } }
    @media (min-width: 980px) { .cards { grid-template-columns: repeat(3, 1fr); } }
    .card { background: var(--card); border:1px solid var(--stroke); border-radius:16px; padding:16px; }
    .card h3 { margin: 6px 0 4px; font-size: 18px; color: var(--primary); }
    .card p { margin: 0; color: var(--muted); }

    .info { display:grid; grid-template-columns: 1fr; gap:16px; }
    @media (min-width: 820px) { .info { grid-template-columns: 1fr 1fr; } }
    .panel { border:1px solid var(--stroke); border-radius:16px; padding:16px; background:#fff; }
    .row { display:grid; grid-template-columns: 120px 1fr; gap:10px; padding: 6px 0; align-items: start; }
    @media (max-width:520px){ .row { grid-template-columns: 1fr; gap:4px; } }
    .k { color: var(--muted); font-size:14px; }
    .v { font-weight:700; }

    /* --- Formulaire --- */
    form { width: 100%; }
    .form-grid { display:grid; grid-template-columns: 1fr; gap:12px; }
    @media (min-width: 760px) { .form-grid { grid-template-columns: 1fr 1fr; } }
    .field { display:flex; flex-direction: column; gap:6px; }
    label { font-weight: 700; font-size: 14px; }
    input, select, textarea {
      border-radius: 12px; border:1px solid var(--stroke);
      padding: 12px 14px; background:#fff7f8; color: var(--text); width: 100%;
    }
    textarea { min-height: 96px; resize: vertical; }
    .full { grid-column: 1 / -1; }
    .hint { color: var(--muted); font-size: 12px; }

    /* RGPD en évidence */
    .legal-flag {
      display: flex; align-items: flex-start; gap: 10px;
      padding: 12px; border: 2px solid rgba(217,4,41,0.35);
      border-radius: 12px; background: #fff1f3;
    }
    .legal-flag input[type="checkbox"]{
      transform: scale(1.2);
      margin-top: 2px;
    }
    .legal-flag .legal-label{
      font-weight: 800; color: #7a0f1c;
    }
    .legal-flag .required-badge{
      display:inline-block; margin-left:6px; padding:2px 8px; font-size:12px;
      border-radius:999px; background:#d90429; color:#fff;
    }

    /* état & feedback */
    .status { margin-top: 8px; font-size: 14px; display: none; }
    .status.show { display:block; }
    .status.pending { color:#6b6285; }
    .status.ok { color:#16a34a; }
    .status.err { color:#dc2626; }

    /* champ invalide rapide */
    input:invalid, select:invalid, textarea:invalid { outline: none; }
    .is-invalid { border-color: #dc2626 !important; background: #fff1f2 !important; }

    footer { border-top:1px solid var(--stroke); margin-top: 32px; }
    footer .container { display:flex; flex-wrap: wrap; align-items:center; justify-content:space-between; gap:12px; padding-top:16px; padding-bottom:18px; color: var(--muted); font-size: 14px; }

    @media (prefers-reduced-motion: reduce) { * { transition: none !important; animation: none !important; } }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="name">
          <span class="dig">digilis</span><span>nutrition</span>
        </div>
        <!-- Logos fac (petit) -->
        <div class="logos" aria-label="Logos de l'université">
          <img src="images/univ-lille.png" alt="Université de Lille">
          <img src="images/ufr3s.jpg" alt="UFR3S">
        </div>
      </div>

      <button class="menu-toggle" aria-controls="menu" aria-expanded="false" aria-label="Ouvrir le menu">☰</button>
      <nav>
        <ul id="menu" data-open="false">
          <li><a href="#programme">Programme</a></li>
          <li><a href="#infos">Infos pratiques</a></li>
          <li><a class="btn" href="#inscription">S'inscrire</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO avec logo digilis mis en valeur -->
    <section class="container hero">
      <div class="hero-logo">
        <img src="images/logo_digilis.jpeg" alt="Logo officiel digilisnutrition">
      </div>
      <div>
        <h1><span class="accent-title">Conférence</span> — bien-être, nutrition & digital</h1>
        <p>Une journée pour comprendre comment les outils numériques transforment la prévention, l'accompagnement et l'expérience des personnes dans le champ du bien-être et de la nutrition.</p>
        <div class="meta">
          <span class="pill">Date : Lundi 19 janvier 2026</span>
          <span class="pill">Heure : 18:00 – 20:00</span>
          <span class="pill">Lieu : ILIS – UFR3S, 42 rue Ambroise-Paré, 59120 Loos</span>
        </div>
        <div style="margin-top:16px; display:flex; gap:12px; flex-wrap: wrap;">
          <a class="cta" href="#inscription">Réserver ma place</a>
          <a class="cta secondary" href="#programme">Voir le programme</a>
        </div>
      </div>
    </section>

    <section class="container section" id="valeurs">
      <div class="cards">
        <div class="card">
          <h3>Outils concrets</h3>
          <p>Démonstrations d'apps, objets connectés et tableaux de bord utiles au suivi nutritionnel.</p>
        </div>
        <div class="card">
          <h3>Regards croisés</h3>
          <p>Professionnel·le·s de santé, chercheurs, coachs et acteurs du numérique partagent leurs pratiques.</p>
        </div>
        <div class="card">
          <h3>Impact mesurable</h3>
          <p>Cas d'usage, indicateurs, éthique et accessibilité pour des solutions qui comptent.</p>
        </div>
      </div>
    </section>

    <section class="container section" id="programme">
      <h2 style="margin:0 0 12px; font-size: clamp(22px,3.2vw,28px);">Aperçu du programme</h2>
      <div class="cards" style="grid-template-columns: 1fr;">
        <div class="card"><strong>Ouverture</strong> — enjeux, tendances & cadre éthique.</div>
        <div class="card"><strong>Table ronde</strong> — nutrition personnalisée & data.</div>
        <div class="card"><strong>Cas pratiques</strong> — suivi, prévention, engagement.</div>
      </div>
    </section>

    <section class="container section" id="infos">
      <h2 style="margin:0 0 12px; font-size: clamp(22px,3.2vw,28px);">Infos pratiques</h2>
      <div class="info">
        <div class="panel">
          <div class="row"><div class="k">Date</div><div class="v">Lundi 19 janvier 2026</div></div>
          <div class="row"><div class="k">Heure</div><div class="v">18:00 – 20:00</div></div>
          <div class="row"><div class="k">Lieu</div><div class="v">ILIS – UFR3S, 42 rue Ambroise-Paré, 59120 Loos</div></div>
        </div>
        <div class="panel">
          <div class="row"><div class="k">Public</div><div class="v">Professionnel·le·s, étudiants, curieux</div></div>
          <div class="row"><div class="k">Tarifs</div><div class="v">À venir</div></div>
          <div class="row"><div class="k">Contact</div><div class="v"><a href="mailto:digilisnutrition@gmail.com">digilisnutrition@gmail.com</a></div></div>
        </div>
      </div>
    </section>

    <!-- INSCRIPTION -->
    <section class="container section" id="inscription">
      <h2 style="margin:0 0 12px; font-size: clamp(22px,3.2vw,28px);">S’inscrire</h2>
      <p class="hint">Remplissez le formulaire. Vos informations seront enregistrées dans un fichier Google Sheets accessible à l’équipe organisatrice.</p>

      <form id="inscriptionForm" novalidate>
        <!-- anti-bot -->
        <input type="text" name="website" autocomplete="off" tabindex="-1" style="position:absolute; left:-9999px;" aria-hidden="true">
        <div class="form-grid">
          <div class="field">
            <label for="prenom">Prénom</label>
            <input id="prenom" name="prenom" required autocomplete="given-name" />
          </div>
          <div class="field">
            <label for="nom">Nom</label>
            <input id="nom" name="nom" required autocomplete="family-name" />
          </div>
          <div class="field">
            <label for="email">E-mail</label>
            <input id="email" name="email" type="email" required autocomplete="email" />
          </div>
          <div class="field">
            <label for="tel">Téléphone (optionnel)</label>
            <input id="tel" name="tel" type="tel" inputmode="tel" autocomplete="tel" />
          </div>
          <div class="field">
            <label for="role">Statut</label>
            <select id="role" name="role" required>
              <option value="">— Sélectionner —</option>
              <option>Étudiant·e</option>
              <option>Professionnel·le</option>
              <option>Enseignant·e/chercheur·se</option>
              <option>Autre</option>
            </select>
          </div>
          <div class="field">
            <label for="orga">Organisation (optionnel)</label>
            <input id="orga" name="orga" autocomplete="organization" />
          </div>
          <div class="field">
            <label for="nb">Nombre de places</label>
            <select id="nb" name="nb" required>
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
          </div>

          <div class="field full">
            <label for="comment">Commentaires (optionnel)</label>
            <textarea id="comment" name="comment" placeholder="Précisions, besoins spécifiques…"></textarea>
          </div>

          <!-- RGPD visible -->
          <div class="field full">
            <label class="legal-flag">
              <input type="checkbox" id="rgpd" name="rgpd" required>
              <span class="legal-label">
                J’accepte que mes données soient utilisées pour la gestion de cette inscription.
                <span class="required-badge">Obligatoire</span>
                <div class="hint">Vous pourrez demander la suppression de vos données à tout moment : <a href="mailto:digilisnutrition@gmail.com">digilisnutrition@gmail.com</a></div>
              </span>
            </label>
          </div>
        </div>

        <div style="display:flex; gap:12px; flex-wrap: wrap; align-items:center; margin-top:10px;">
          <button class="cta" type="submit" id="submitBtn">Valider mon inscription</button>
          <span id="formStatus" class="status" role="status" aria-live="polite"></span>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <div class="container">
      <div>© <span id="y"></span> digilisnutrition</div>
      <div><a href="#inscription">S'inscrire</a></div>
    </div>
  </footer>

  <script>
    // Menu mobile
    const btn = document.querySelector('.menu-toggle');
    const menu = document.getElementById('menu');
    btn?.addEventListener('click', () => {
      const open = menu.getAttribute('data-open') === 'true';
      menu.setAttribute('data-open', String(!open));
      btn.setAttribute('aria-expanded', String(!open));
    });
    document.getElementById('y').textContent = new Date().getFullYear();

    // === URL Apps Script (ta web app) ===
    const APP_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwahbCqE_AEWG0hk9weTwb2Z4386K6sM7GeKrXXyjI616_sxab9aKOwYlVIJBkfbDEQ/exec";

    // === Soumission rapide avec feedback + lecture JSON + fallback no-cors ===
    const formEl = document.getElementById('inscriptionForm');
    const statusEl = document.getElementById('formStatus');
    const submitBtn = document.getElementById('submitBtn');

    function showStatus(kind, text){
      statusEl.className = `status show ${kind}`;
      statusEl.textContent = text;
    }
    function setBusy(b){
      submitBtn.disabled = b;
      submitBtn.style.opacity = b ? 0.7 : 1;
    }
    function validateRequired(fields){
      let ok = true;
      fields.forEach(el=>{
        el.classList.remove('is-invalid');
        if (!el.checkValidity() || (el.type === 'checkbox' && !el.checked)) {
          el.classList.add('is-invalid');
          ok = false;
        }
      });
      return ok;
    }

    formEl?.addEventListener('submit', async (e) => {
      e.preventDefault();

      const data = new FormData(formEl);
      if (data.get('website')) return; // honeypot

      const requiredEls = [
        formEl.prenom, formEl.nom, formEl.email, formEl.role, formEl.nb, formEl.rgpd
      ];
      if (!validateRequired(requiredEls)) {
        showStatus('err', 'Merci de remplir tous les champs requis et de cocher le RGPD.');
        return;
      }

      // feedback immédiat
      showStatus('pending', 'Envoi en cours…');
      setBusy(true);

      // payload
      const payload = {
        prenom: data.get('prenom')?.toString().trim(),
        nom: data.get('nom')?.toString().trim(),
        email: data.get('email')?.toString().trim(),
        tel: data.get('tel')?.toString().trim(),
        role: data.get('role')?.toString(),
        orga: data.get('orga')?.toString().trim(),
        nb: data.get('nb')?.toString(),
        comment: data.get('comment')?.toString().trim(),
        rgpd: formEl.rgpd.checked ? "oui" : "non",
        source: location.href,
        userAgent: navigator.userAgent
      };

      // timeout court pour un ressenti rapide
      const controller = new AbortController();
      const t = setTimeout(() => controller.abort(), 5000); // 5s max

      try {
        // 1) tentative en CORS lisible (idéal : on peut afficher "e-mail déjà inscrit")
        const res = await fetch(APP_SCRIPT_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload),
          signal: controller.signal
        });
        clearTimeout(t);

        // Si le serveur renvoie JSON lisible
        let out = null;
        try { out = await res.json(); } catch(_) { /* parfois ContentService n'expose pas CORS */ }

        if (out) {
          if (out.duplicate) {
            showStatus('err', '❗ Cet e-mail est déjà inscrit.');
            setBusy(false);
            return;
          }
          if (out.ok) {
            formEl.reset();
            showStatus('ok', '✅ Merci ! Votre inscription a été enregistrée.');
            setBusy(false);
            return;
          }
          showStatus('err', '❌ Erreur : ' + (out.error || 'réessayez plus tard.'));
          setBusy(false);
          return;
        }

        // si pas de JSON lisible, on considère succès (ça a bien été posté)
        formEl.reset();
        showStatus('ok', '✅ Merci ! Votre inscription a été envoyée.');
        setBusy(false);

      } catch (err) {
        clearTimeout(t);
        // 2) fallback : no-cors pour garantir l’envoi, retour “optimiste”
        try {
          await fetch(APP_SCRIPT_URL, {
            method: "POST",
            mode: "no-cors",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          });
          formEl.reset();
          showStatus('ok', '✅ Inscription envoyée.');
        } catch (e2) {
          showStatus('err', '❌ Impossible d’envoyer pour le moment.');
        } finally {
          setBusy(false);
        }
      }
    });
  </script>
</body>
</html>
